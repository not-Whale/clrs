## Глава 1. Роль алгоритмов в вычислениях

### 1.2. Алгоритмы как технология

### Упражнения

1.2.2. Предположим, на одной и той же машине проводится сравнительный анализ реализаций двух алгоритмов сортировки, работающих вставкой и слиянием. Для сортировки $n$ элементов вставкой необходимо $8n^2$ шагов, а для сортировки слиянием - $64 n lg(n)$ шагов. При каком значении $n$ время сортировки вставкой превысит время сортировки слиянием?

Решение:

Перефразируем поставленную задачу в математических терминах. Нам необходимо найти такое $n$, чтобы:
$$8n^2 > 64nlog_2(n)$$

Очевидно, что число элементов неотрицательное $n>=1$, а значит имеет место деление и умножение обеих частей неравенства на $n$:
$$n > 8log_2(n)$$
$$\frac{1}{8} > \frac{log_2(n)}{n}$$

Заметим, что в вырожденном случае при $n=1$ условие, записанное выше, верно. Действительно:
$$0,125\vee\frac{log_2(1)}{1}$$
$$0,125>0$$

Однако уже при $n=2$ данное условие неверно. Действительно:
$$0,125\vee\frac{log_2(2)}{2}$$
$$0,125<0,5$$

Таким образом, будем считать $n=1$ частным решением, а далее наложим ограничение $n>=2$. Тогда имеем $log_2(n)>0$ (более того $log_2(n)>=1$), а значим мы имеем полное право делить и умножать обе части неравенства на $log_2(n)$. Следовательно имеем:
$$\frac{n}{log_2(n)}>8$$


Несложно заметить, что при $n=32$ неравенство еще не выполняется:
$$\frac{32}{log_2(32)}\vee8$$

$$\frac{32}{5}\vee8$$

$$6,4<8$$

Однако при $n=64$ начинает:
$$\frac{64}{log_2(64)}\vee8$$

$$\frac{64}{6}\vee8$$

$$10,(6)>8$$

Таким образом, мы нашли диапазон, в котором находится решение. Далее воспользуемся бинарным поиском, чтобы найти точное натуральное значение, после которого неравенство начинает выполняться. Первым оценочным значением возьмем $n=48$:
$$\frac{48}{log_2(48)}\vee8$$

$$\frac{48}{log_2(16)*log_2(3)}\vee8$$

$$\frac{48}{4*log_2(3)}\vee8$$

$$log_3(2)\vee0,(6)$$

$$log_3(2)\vee\frac{2}{3}$$

$$log_3(2)\vee log_3(3^\frac{2}{3})$$

Так как логарифм - монотонно возрастающая функция, вместо логарифмов мы можем сравнивать аргументы:
$$2\vee3^\frac{2}{3}$$

$$2\vee \sqrt[3]{9}$$

$$\sqrt[3]{8}\vee \sqrt[3]{9}$$

$$log_3(2)<\frac{2}{3}$$

Таким образом, верхняя граница поиска $n=48$. Для удобства далее вычисления будут сокращены. Далее проверим $n=40$:
$$\frac{40}{log_2(40)}\vee8$$

$$lg(2)>0,8$$

Таким образом, нижняя граница поиска $n=40$. Далее проверим $n=44$:
$$\frac{44}{log_2(44)}\vee8$$

$$log_{11}(2)<0,36$$

Таким образом, верняя граница поиска $n=44$. Аналогичным образом проверяя $n=42$ и $n=43$ приходим к выводу, что при значениях $n>=44$ время сортировки вставкой превысит время сортировки слиянием.

**Примечание.** В силу того, что упражнения даются автором книги для закрепления изученного материала, а не с целью практики, дальнейшие решения упражнений будут представлены либо в краткой форме, либо будут даны только ответы на заданные вопросы. Однако решения задач будут сделаны либо строго аналитически, либо с помощью написания небольших программ на языке C++.

1.2.3. При каком минимальном значении $n$ алгоритм, время работы которого определяется формулой $100n^2$, работает быстрее, чем алгоритм, время работы которого выражается как $2^n$, если оба алгоритма выполяняются на одной и той же машине?

Перефразируем поставленную задачу в математических терминах. Нам необходимо найти такое $n$, чтобы:
$$100n^2<2^n$$

$$2^n>100n^2$$

Логарифмируем по основанию 2:
$$log_2(2^n)\vee log_2(100n^2)$$

$$n\vee2log_2(10n)$$

А далее аналогично решению прошлой задачи нетрудно получить, что при $n>=15$ данное условие выполняется.

###  Задачи

1.1 Сравнение времени работы алгоритмов

Для решения данной задачи я решил написать небольшой скрипт на Python, чтобы автоматизировать повторяющиеся вычисления. Изначально зависимость времени от входных данных описывается как:
$$t=f(n)$$

Таким образом, можно установить, что зависимость количества входных данных от ограничений по времени:
$$n=f^{-1}(t)$$

Значит, для каждой фукнции $t=f(n)$ необходимо найти обратную $n=f^{-1}(t)$, чтобы решить поставленную задачу. Почти все функции, описывающие зависимость времени от входных данных - элементарные, а значит обратные к ним найти несложно.

| f(n)        | f^{-1}(t)    |
|:-----------:|:------------:|
| $log_2(n)$  | $2^t$        |
| $sqrt(n)$   | $t^2$        |
| $n$         | $t$          |
| $nlog_2(n)$ | -            |
| $n^2$       | $sqrt(t)$    |
| $n^3$       | $sqrt[3](t)$ |
| $2^n$       | $log_2(t)$   |
| $n!$        |              |
Далее в процессе реализации я столкнулся с тем, что для первой функции значения $n$, удовлетворяющие условию, слишком большие, чтобы искать их значения с помощью автоматизированных вычислений, так как намного проще работать со степенями, вычисляя чисто аналитически. Для функций $nlog_2(n)$ достаточно сложно построить обратную, а при работе с обратным факториалом требуется находить ближайшее подходящее значение, что также подтолкнуло меня считать значения $n$ для этих фукнций самостоятельно. С этого и начнем.

Для начала запишем в микросекундах каждый из временных интервалов:

|              | Секунда | Минута     | Час            | День           | Месяц          | Год                | Век |
|--------------|---------|------------|----------------|----------------|----------------|--------------------|-----|
| Микросекунды | $10^6$  | $2*3*10^7$ | $2^2*3^2*10^8$ | $2^5*3^3*10^8$ | $2^5*3^4*10^9$ | $73*2^4*3^4*10^10$ |     |
Далее просто подставим значения $t$ для первой строки таблицы, а для $f(n)=nlog_2(n)$ введем следующее преобразование:
$$nlog_2(n)=t$$

$$log_2(n^n)=t$$

$$n^n=2^t$$

Для поиска искомых значений $n$ в функциях $n^n$ и $n!$ будем пошагово сравнивать их значения с ограничением, пока не придем к граничному результату. Для этого я также использовал скрипт на языке Python.

В результате всех вычислений получилось:

|          | Секунда | Минута             | Час         | День               | Месяц            | Год              | Век              |
|:--------:|:---------:|:-------------------:|:-----------:|:-------------------:|:-----------------:|:-----------------:|:-----------------:|
|$log_2(n)$   |$2^{10^6}$        |$2^{2*3*10^7}$              |$2^{2^2*3^3*10^8}$     |$2^{2^5*3^3*10^8}$              |$2^{2^5*3^4*10^9}$           |$2^{73*2^4*3^4*10^{10}}$        |$2^{73*2^4*3^4*10^{12}}$         |
|$sqrt(n)$   |$10^{12}$       |$2^2*3^2*10^{14}$         |$2^4*3^4*10^{16}$ |$2^{10}*3^6*10^{16}$         |$2^{10}*3^8*10^{18}$      |$73^2*2^8*3^8*10^{20}$ |$73^2*2^8*3^8*10^{24}$   |
|$n$        |$10^6$         |$2*3*10^7$           |$2^2*3^2*10^8$  |$2^5*3^3*10^8$          |$2^5*3^4*10^9$        |$73*2^4*3^4*10^{10}$  |$73*2^4*3^4*10^{12}$   |
|$nlog_2(n)$ |$62746$       |$2801417$            |$133378058$    |$2755147513$          |$71870856404$       |$21365679736790$   |$1865001897511510$  |
|$n^2$|      |$10^3$         |$7745$                |$6*10^4$       |$293938$               |$1609968$           |$30758413$          |$307584134$         |
|$n^3$|      |$99$          |$391$                 |$1532$         |$4420$                 |$13736$             |$98169$             |$455661$             |
|$2^n$|      |$19$          |$25$                  |$31$           |$36$                    |$41$                |$49$                |$56$                  |
|$n!$|      |$9$           |$11$                  |$12$           |$13$                    |$15$                |$17$                |$18$                  |








